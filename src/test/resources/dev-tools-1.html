<!doctype html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width">
    <title>poc</title>
</head>

<body>
<button id="action" onclick="delayedRequest(2000)">Action</button>

<div id="result">default value</div>
<script>
    async function request(){
        const statusElement = document.getElementById('result');
        const response = await fetch(
            'https://testutils.com/api/echo',
            {
                method: 'POST',
                body: "{ \"message\": \"hello\"}",
                headers: {
                    "Content-Type": "application/json"
                }
            }
        );
        const responseJson = await response.json();
        statusElement.innerHTML = responseJson.request.body.message;
    }

    function delayedRequest(msDelay){
        setTimeout(request, msDelay);
    }
</script>
</body>

</html>